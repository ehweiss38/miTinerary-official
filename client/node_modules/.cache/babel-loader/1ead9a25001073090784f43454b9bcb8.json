{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ethan/Desktop/Code/miTinerary-official/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ethan/Desktop/Code/miTinerary-official/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ethan/Desktop/Code/miTinerary-official/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import Hotels from\"./Specific/Hotels\";import Restaurants from\"./Specific/Restaurants\";import Attractions from\"./Specific/Attractions\";import{jsx as _jsx}from\"react/jsx-runtime\";var Retrieve=function Retrieve(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];console.log('render',props.type);useEffect(function(){var controller=new AbortController();_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var qs,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('running');qs=props.loc['latitude']+\"_\"+props.loc['longitude'];console.log('search');_context.next=5;return axios.get(\"https://mitinerary-js.herokuapp.com/\".concat(props.type,\"/\").concat(qs));case 5:response=_context.sent;console.log('response');controller=null;setList(response.data);case 9:case\"end\":return _context.stop();}}},_callee);}))();return function(){var _controller;(_controller=controller)===null||_controller===void 0?void 0:_controller.abort();};},[]);useEffect(function(){if(!list){return;}props.loadedTracker();return;},[list]);var comp;if(!list){comp=\"\";}else if(props.type==='hotels'){comp=/*#__PURE__*/_jsx(Hotels,{hotels:list,add:props.add,remove:props.remove,attractions:props.attractions});}else if(props.type==='restaurants'){comp=/*#__PURE__*/_jsx(Restaurants,{restaurants:list,add:props.add,remove:props.remove,attractions:props.attractions});}else if(props.type==='attractions'){comp=/*#__PURE__*/_jsx(Attractions,{sites:list,add:props.add,remove:props.remove,attractions:props.attractions});}return/*#__PURE__*/_jsx(React.Fragment,{children:comp});};export default Retrieve;","map":{"version":3,"names":["React","useEffect","useState","axios","Hotels","Restaurants","Attractions","Retrieve","props","list","setList","console","log","type","controller","AbortController","qs","loc","get","response","data","abort","loadedTracker","comp","add","remove","attractions"],"sources":["/Users/ethan/Desktop/Code/miTinerary-official/client/src/components/display/components/Attractions/Retrieve.js"],"sourcesContent":["import React,{useEffect,useState} from \"react\";\nimport axios from \"axios\";\nimport Hotels from \"./Specific/Hotels\";\nimport Restaurants from \"./Specific/Restaurants\";\nimport Attractions from \"./Specific/Attractions\";\n\nconst Retrieve=(props)=>{\n    const[list,setList]=useState(null)\n    console.log('render',props.type)\n    useEffect(()=>{\n        let controller=new AbortController();\n        (async()=>{\n            console.log('running')\n            const qs=props.loc['latitude']+\"_\"+props.loc['longitude']\n            console.log('search')\n            const response=await axios.get((`https://mitinerary-js.herokuapp.com/${props.type}/${qs}`))\n            console.log('response')\n            controller=null\n            setList(response.data)\n        })()\n        return()=>{\n            controller?.abort()\n        }\n    },[])\n    \n    useEffect(()=>{\n        if(!list){\n            return\n        }\n        props.loadedTracker()\n        return\n\n    },[list])\n    \n    let comp\n    if(!list){\n        comp=\"\"\n    }\n    else if(props.type==='hotels'){\n        comp=<Hotels hotels={list} add={props.add} remove={props.remove} attractions={props.attractions}/>\n    }else if(props.type==='restaurants'){\n        comp=<Restaurants restaurants={list} add={props.add} remove={props.remove} attractions={props.attractions}/>\n    }else if(props.type==='attractions'){\n        comp=<Attractions sites={list} add={props.add} remove={props.remove} attractions={props.attractions}/>\n    }\n    return(\n        <React.Fragment>\n            {comp}\n        </React.Fragment>\n    )\n}\nexport default Retrieve"],"mappings":"8aAAA,MAAOA,MAAK,EAAEC,SAAS,CAACC,QAAQ,KAAO,OAAO,CAC9C,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,OAAM,KAAM,mBAAmB,CACtC,MAAOC,YAAW,KAAM,wBAAwB,CAChD,MAAOC,YAAW,KAAM,wBAAwB,CAAC,2CAEjD,GAAMC,SAAQ,CAAC,QAATA,SAAQ,CAAEC,KAAK,CAAG,CACpB,cAAoBN,QAAQ,CAAC,IAAI,CAAC,wCAA5BO,IAAI,eAACC,OAAO,eAClBC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAACJ,KAAK,CAACK,IAAI,CAAC,CAChCZ,SAAS,CAAC,UAAI,CACV,GAAIa,WAAU,CAAC,GAAIC,gBAAe,EAAE,CACpC,0DAAC,qJACGJ,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CAChBI,EAAE,CAACR,KAAK,CAACS,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,CAACT,KAAK,CAACS,GAAG,CAAC,WAAW,CAAC,CACzDN,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,uBACAT,MAAK,CAACe,GAAG,+CAAyCV,KAAK,CAACK,IAAI,aAAIG,EAAE,EAAI,QAArFG,QAAQ,eACdR,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,CACvBE,UAAU,CAAC,IAAI,CACfJ,OAAO,CAACS,QAAQ,CAACC,IAAI,CAAC,uDACzB,IAAG,CACJ,MAAM,WAAI,iBACN,aAAAN,UAAU,sCAAV,YAAYO,KAAK,EAAE,CACvB,CAAC,CACL,CAAC,CAAC,EAAE,CAAC,CAELpB,SAAS,CAAC,UAAI,CACV,GAAG,CAACQ,IAAI,CAAC,CACL,OACJ,CACAD,KAAK,CAACc,aAAa,EAAE,CACrB,OAEJ,CAAC,CAAC,CAACb,IAAI,CAAC,CAAC,CAET,GAAIc,KAAI,CACR,GAAG,CAACd,IAAI,CAAC,CACLc,IAAI,CAAC,EAAE,CACX,CAAC,IACI,IAAGf,KAAK,CAACK,IAAI,GAAG,QAAQ,CAAC,CAC1BU,IAAI,cAAC,KAAC,MAAM,EAAC,MAAM,CAAEd,IAAK,CAAC,GAAG,CAAED,KAAK,CAACgB,GAAI,CAAC,MAAM,CAAEhB,KAAK,CAACiB,MAAO,CAAC,WAAW,CAAEjB,KAAK,CAACkB,WAAY,EAAE,CACtG,CAAC,IAAK,IAAGlB,KAAK,CAACK,IAAI,GAAG,aAAa,CAAC,CAChCU,IAAI,cAAC,KAAC,WAAW,EAAC,WAAW,CAAEd,IAAK,CAAC,GAAG,CAAED,KAAK,CAACgB,GAAI,CAAC,MAAM,CAAEhB,KAAK,CAACiB,MAAO,CAAC,WAAW,CAAEjB,KAAK,CAACkB,WAAY,EAAE,CAChH,CAAC,IAAK,IAAGlB,KAAK,CAACK,IAAI,GAAG,aAAa,CAAC,CAChCU,IAAI,cAAC,KAAC,WAAW,EAAC,KAAK,CAAEd,IAAK,CAAC,GAAG,CAAED,KAAK,CAACgB,GAAI,CAAC,MAAM,CAAEhB,KAAK,CAACiB,MAAO,CAAC,WAAW,CAAEjB,KAAK,CAACkB,WAAY,EAAE,CAC1G,CACA,mBACI,KAAC,KAAK,CAAC,QAAQ,WACVH,IAAI,EACQ,CAEzB,CAAC,CACD,cAAehB,SAAQ"},"metadata":{},"sourceType":"module"}