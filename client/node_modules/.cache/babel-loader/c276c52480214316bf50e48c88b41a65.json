{"ast":null,"code":"var _jsxFileName = \"/Users/ethan/Desktop/Code/miTinerary-official/client/src/components/Algo/Search/AlgoSearchHome.js\";\nimport React from \"react\";\nimport Endpoints from \"./Form/Endpoints\";\nimport Confirmation from \"./Form/confirmation/Confirmation\";\nimport ExtraCities from \"./Form/ExtraCities/ExtraCities\";\nimport Outline from \"./Form/Outline/Outline\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AlgoSearchHome extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      display: 'endpoints',\n      startCity: \"\",\n      startCountry: \"\",\n      endCity: \"\",\n      endCountry: \"\",\n      stops: \"\",\n      sState: null,\n      eState: null,\n      missing: false\n    };\n    this.setSearch = (value, targ) => {\n      let use = value;\n      if (targ === 'startCity') {\n        if (this.state.startCity.length === 0) {\n          use = use.toUpperCase();\n        }\n        this.setState({\n          startCity: use\n        });\n      }\n      if (targ === 'startCountry') {\n        if (this.state.startCountry.length === 0) {\n          use = use.toUpperCase();\n        }\n        this.setState({\n          startCountry: use\n        });\n      }\n      if (targ === 'endCity') {\n        if (this.state.endCity.length === 0) {\n          use = use.toUpperCase();\n        }\n        this.setState({\n          endCity: use\n        });\n      }\n      if (targ === 'endCountry') {\n        this.setState({\n          endCountry: value\n        });\n      }\n      if (targ === 'stops') {\n        this.setState({\n          stops: value,\n          missing: false\n        });\n      }\n      if (targ === 'sState') {\n        this.setState({\n          sState: value\n        });\n      }\n      if (targ === 'eState') {\n        this.setState({\n          eState: value\n        });\n      }\n    };\n    this.endPointSubmit = e => {\n      e.preventDefault();\n      if (!parseInt(this.state.stops)) {\n        this.setState({\n          missing: true\n        });\n        return;\n      }\n      //dealing w/ states: Pass as 3rd arg?\n      let states = \"\";\n      if (this.state.sState || this.state.eState) {\n        if (this.state.sState) {\n          states += this.state.sState;\n        } else {\n          states += \"0\";\n        }\n        if (this.state.eState) {\n          states += \"_\" + this.state.eState;\n        }\n      }\n\n      //!!!!!!error if spelling mistake returns, con screen with 0\n      this.props.setValues(this.state.stops, this.state.startCity.trim() + \"_\" + this.state.startCountry.trim() + \"_\" + this.state.endCity.trim() + \"_\" + this.state.endCountry.trim() + \"_\" + this.state.stops + \"_\" + states);\n      return;\n      //?\n      //feels redundant with setvalues\n      //calls function passed from AlgoHome, which makes API Req\n    };\n    this.pointsConfirmed = () => {\n      console.log('extra', this.state);\n      this.setState({\n        display: 'extra'\n      });\n    };\n    this.reloadEndpoints = () => {\n      this.setState({\n        display: 'endpoints'\n      });\n    };\n  }\n  //Dont want this actually useEffect would be better\n  //come back to this\n  componentDidUpdate() {\n    const murica = {\n      'USA': 1,\n      \"US\": 1,\n      \"United States of America\": 1,\n      \"America\": 1,\n      \"United States\": 1\n    };\n    console.log('hi');\n    console.log(!!murica[this.state.startCountry]);\n    if (this.state.sState === null && murica[this.state.startCountry]) {\n      this.setState({\n        sState: \"\"\n      });\n    }\n    if (this.state.eState === null && murica[this.state.endCountry]) {\n      this.setState({\n        eState: \"\"\n      });\n    }\n    if (!murica[this.state.startCountry] && this.state.sState !== null) {\n      this.setState({\n        sState: null\n      });\n    }\n    if (!murica[this.state.endCountry] && this.state.eState !== null) {\n      this.setState({\n        eState: null\n      });\n    }\n    //console.log('did update',this.state.display,this.props.data)\n    //console.log(this.props.bad)\n    if (this.props.data && this.state.display === 'endpoints') {\n      this.setState({\n        display: 'confirmation',\n        missing: false\n      });\n    }\n    if (this.props.outline && this.state.display === \"extra\") {\n      console.log('outline set');\n      this.setState({\n        display: 'outline'\n      });\n    }\n  }\n  //some of these might be redundant\n\n  render() {\n    if (this.state.display === 'endpoints') {\n      return /*#__PURE__*/_jsxDEV(Endpoints, {\n        locations: this.state,\n        setSearch: this.setSearch,\n        endPointSubmit: this.endPointSubmit,\n        bad: this.props.bad,\n        missing: this.state.missing\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this);\n    }\n    if (this.state.display === 'confirmation') {\n      return /*#__PURE__*/_jsxDEV(Confirmation, {\n        distance: this.props.distance,\n        data: this.props.data,\n        pointsConfirmed: this.pointsConfirmed,\n        clearState: this.props.clearState,\n        reloadEndpoints: this.reloadEndpoints\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this);\n    }\n    if (this.state.display === 'extra') {\n      return /*#__PURE__*/_jsxDEV(ExtraCities, {\n        extraStops: this.props.extraStops,\n        stops: parseInt(this.state.stops)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this);\n    }\n    if (this.state.display === 'outline') {\n      console.log('outline', this.props.outline);\n      return /*#__PURE__*/_jsxDEV(Outline, {\n        launch: this.props.launch,\n        mode: this.props.mode,\n        setMode: this.props.setMode,\n        outline: this.props.outline\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this);\n    }\n  }\n}\nexport default AlgoSearchHome;","map":{"version":3,"names":["React","Endpoints","Confirmation","ExtraCities","Outline","AlgoSearchHome","Component","state","display","startCity","startCountry","endCity","endCountry","stops","sState","eState","missing","setSearch","value","targ","use","length","toUpperCase","setState","endPointSubmit","e","preventDefault","parseInt","states","props","setValues","trim","pointsConfirmed","console","log","reloadEndpoints","componentDidUpdate","murica","data","outline","render","bad","distance","clearState","extraStops","launch","mode","setMode"],"sources":["/Users/ethan/Desktop/Code/miTinerary-official/client/src/components/Algo/Search/AlgoSearchHome.js"],"sourcesContent":["import React from \"react\";\nimport Endpoints from \"./Form/Endpoints\";\nimport Confirmation from \"./Form/confirmation/Confirmation\";\nimport ExtraCities from \"./Form/ExtraCities/ExtraCities\";\nimport Outline from \"./Form/Outline/Outline\";\n\nclass AlgoSearchHome extends React.Component{\n    //forgot to pass to distance to confirmation\n    state={display:'endpoints',startCity:\"\",startCountry:\"\",endCity:\"\",endCountry:\"\", stops:\"\",sState:null,eState:null,missing:false}\n    setSearch=(value,targ)=>{\n        let use=value\n        if(targ==='startCity'){\n            if(this.state.startCity.length===0){\n                use=use.toUpperCase()\n            }\n            this.setState({startCity:use})\n        }\n        if(targ==='startCountry'){\n            if(this.state.startCountry.length===0){\n                use=use.toUpperCase()\n            }\n            this.setState({startCountry:use})\n        }\n        if(targ==='endCity'){\n            if(this.state.endCity.length===0){\n                use=use.toUpperCase()\n            }\n            this.setState({endCity:use})\n        }\n        if(targ==='endCountry'){\n            this.setState({endCountry:value})\n        }\n        if(targ==='stops'){\n            this.setState({stops:value,missing:false})\n        }\n        if(targ==='sState'){\n            this.setState({sState:value})\n        }\n        if(targ==='eState'){\n            this.setState({eState:value})\n        }\n    }\n    \n    endPointSubmit=(e)=>{\n        e.preventDefault()\n        if(!parseInt(this.state.stops)){\n            this.setState({missing:true})\n            return\n        }\n        //dealing w/ states: Pass as 3rd arg?\n        let states=\"\"\n        if(this.state.sState||this.state.eState){\n            if(this.state.sState){\n                states+=this.state.sState\n            }else{\n                states+=\"0\"\n            }\n            if(this.state.eState){\n                states+=\"_\"+this.state.eState\n            }\n        }\n\n\n        //!!!!!!error if spelling mistake returns, con screen with 0\n        this.props.setValues(this.state.stops,this.state.startCity.trim()+\"_\"+this.state.startCountry.trim()+\"_\"+this.state.endCity.trim()+\"_\"+this.state.endCountry.trim()+\"_\"+this.state.stops+\"_\"+states)\n        return\n        //?\n        //feels redundant with setvalues\n        //calls function passed from AlgoHome, which makes API Req\n    }\n\n    //Dont want this actually useEffect would be better\n    //come back to this\n    componentDidUpdate(){\n        const murica={'USA':1,\"US\":1,\"United States of America\":1,\"America\":1,\"United States\":1}\n        console.log('hi')\n        console.log(!!murica[this.state.startCountry])\n        if(this.state.sState===null&&murica[this.state.startCountry]){\n            this.setState({sState:\"\"})\n        }\n        if(this.state.eState===null&&murica[this.state.endCountry]){\n            this.setState({eState:\"\"})\n        }\n        if(!murica[this.state.startCountry]&&this.state.sState!==null){\n            this.setState({sState:null})\n        }\n        if(!murica[this.state.endCountry]&&this.state.eState!==null){\n            this.setState({eState:null})\n        }\n        //console.log('did update',this.state.display,this.props.data)\n        //console.log(this.props.bad)\n        if(this.props.data&&this.state.display==='endpoints'){\n            this.setState({display:'confirmation',missing:false})\n        }\n        if(this.props.outline&&this.state.display===\"extra\"){\n            console.log('outline set')\n            this.setState({display:'outline'})\n        }\n    }\n    //some of these might be redundant\n    pointsConfirmed=()=>{\n        console.log('extra',this.state)\n        this.setState({display:'extra'})\n    }\n\n    //maybe better way but doing them seperately doesnt require major overhaul\n\n    //another way is to clear props.data after setting confirmation\n    //Might be possible but Id like to have that for future\n    reloadEndpoints=()=>{\n        this.setState({display:'endpoints'})\n    }\n\n    render(){\n        if(this.state.display==='endpoints'){\n            return(\n                <Endpoints locations={this.state} setSearch={this.setSearch} endPointSubmit={this.endPointSubmit} bad={this.props.bad} missing={this.state.missing}/>\n            )\n        }\n        if(this.state.display==='confirmation'){\n            return(\n                <Confirmation distance={this.props.distance} data={this.props.data} pointsConfirmed={this.pointsConfirmed} clearState={this.props.clearState} reloadEndpoints={this.reloadEndpoints}/>\n            )\n        }\n        if(this.state.display==='extra'){\n            return(\n                <ExtraCities extraStops={this.props.extraStops}stops={parseInt(this.state.stops)}/>\n            )\n        }\n        if(this.state.display==='outline'){\n            console.log('outline', this.props.outline)\n            return(\n                <Outline  launch={this.props.launch} mode={this.props.mode} setMode={this.props.setMode} outline={this.props.outline}/>\n            )\n        }\n        \n\n    }\n}\n\nexport default AlgoSearchHome"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,kBAAkB;AACxC,OAAOC,YAAY,MAAM,kCAAkC;AAC3D,OAAOC,WAAW,MAAM,gCAAgC;AACxD,OAAOC,OAAO,MAAM,wBAAwB;AAAC;AAE7C,MAAMC,cAAc,SAASL,KAAK,CAACM,SAAS;EAAA;IAAA;IAAA,KAExCC,KAAK,GAAC;MAACC,OAAO,EAAC,WAAW;MAACC,SAAS,EAAC,EAAE;MAACC,YAAY,EAAC,EAAE;MAACC,OAAO,EAAC,EAAE;MAACC,UAAU,EAAC,EAAE;MAAEC,KAAK,EAAC,EAAE;MAACC,MAAM,EAAC,IAAI;MAACC,MAAM,EAAC,IAAI;MAACC,OAAO,EAAC;IAAK,CAAC;IAAA,KACjIC,SAAS,GAAC,CAACC,KAAK,EAACC,IAAI,KAAG;MACpB,IAAIC,GAAG,GAACF,KAAK;MACb,IAAGC,IAAI,KAAG,WAAW,EAAC;QAClB,IAAG,IAAI,CAACZ,KAAK,CAACE,SAAS,CAACY,MAAM,KAAG,CAAC,EAAC;UAC/BD,GAAG,GAACA,GAAG,CAACE,WAAW,EAAE;QACzB;QACA,IAAI,CAACC,QAAQ,CAAC;UAACd,SAAS,EAACW;QAAG,CAAC,CAAC;MAClC;MACA,IAAGD,IAAI,KAAG,cAAc,EAAC;QACrB,IAAG,IAAI,CAACZ,KAAK,CAACG,YAAY,CAACW,MAAM,KAAG,CAAC,EAAC;UAClCD,GAAG,GAACA,GAAG,CAACE,WAAW,EAAE;QACzB;QACA,IAAI,CAACC,QAAQ,CAAC;UAACb,YAAY,EAACU;QAAG,CAAC,CAAC;MACrC;MACA,IAAGD,IAAI,KAAG,SAAS,EAAC;QAChB,IAAG,IAAI,CAACZ,KAAK,CAACI,OAAO,CAACU,MAAM,KAAG,CAAC,EAAC;UAC7BD,GAAG,GAACA,GAAG,CAACE,WAAW,EAAE;QACzB;QACA,IAAI,CAACC,QAAQ,CAAC;UAACZ,OAAO,EAACS;QAAG,CAAC,CAAC;MAChC;MACA,IAAGD,IAAI,KAAG,YAAY,EAAC;QACnB,IAAI,CAACI,QAAQ,CAAC;UAACX,UAAU,EAACM;QAAK,CAAC,CAAC;MACrC;MACA,IAAGC,IAAI,KAAG,OAAO,EAAC;QACd,IAAI,CAACI,QAAQ,CAAC;UAACV,KAAK,EAACK,KAAK;UAACF,OAAO,EAAC;QAAK,CAAC,CAAC;MAC9C;MACA,IAAGG,IAAI,KAAG,QAAQ,EAAC;QACf,IAAI,CAACI,QAAQ,CAAC;UAACT,MAAM,EAACI;QAAK,CAAC,CAAC;MACjC;MACA,IAAGC,IAAI,KAAG,QAAQ,EAAC;QACf,IAAI,CAACI,QAAQ,CAAC;UAACR,MAAM,EAACG;QAAK,CAAC,CAAC;MACjC;IACJ,CAAC;IAAA,KAEDM,cAAc,GAAEC,CAAC,IAAG;MAChBA,CAAC,CAACC,cAAc,EAAE;MAClB,IAAG,CAACC,QAAQ,CAAC,IAAI,CAACpB,KAAK,CAACM,KAAK,CAAC,EAAC;QAC3B,IAAI,CAACU,QAAQ,CAAC;UAACP,OAAO,EAAC;QAAI,CAAC,CAAC;QAC7B;MACJ;MACA;MACA,IAAIY,MAAM,GAAC,EAAE;MACb,IAAG,IAAI,CAACrB,KAAK,CAACO,MAAM,IAAE,IAAI,CAACP,KAAK,CAACQ,MAAM,EAAC;QACpC,IAAG,IAAI,CAACR,KAAK,CAACO,MAAM,EAAC;UACjBc,MAAM,IAAE,IAAI,CAACrB,KAAK,CAACO,MAAM;QAC7B,CAAC,MAAI;UACDc,MAAM,IAAE,GAAG;QACf;QACA,IAAG,IAAI,CAACrB,KAAK,CAACQ,MAAM,EAAC;UACjBa,MAAM,IAAE,GAAG,GAAC,IAAI,CAACrB,KAAK,CAACQ,MAAM;QACjC;MACJ;;MAGA;MACA,IAAI,CAACc,KAAK,CAACC,SAAS,CAAC,IAAI,CAACvB,KAAK,CAACM,KAAK,EAAC,IAAI,CAACN,KAAK,CAACE,SAAS,CAACsB,IAAI,EAAE,GAAC,GAAG,GAAC,IAAI,CAACxB,KAAK,CAACG,YAAY,CAACqB,IAAI,EAAE,GAAC,GAAG,GAAC,IAAI,CAACxB,KAAK,CAACI,OAAO,CAACoB,IAAI,EAAE,GAAC,GAAG,GAAC,IAAI,CAACxB,KAAK,CAACK,UAAU,CAACmB,IAAI,EAAE,GAAC,GAAG,GAAC,IAAI,CAACxB,KAAK,CAACM,KAAK,GAAC,GAAG,GAACe,MAAM,CAAC;MACpM;MACA;MACA;MACA;IACJ,CAAC;IAAA,KA+BDI,eAAe,GAAC,MAAI;MAChBC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAC,IAAI,CAAC3B,KAAK,CAAC;MAC/B,IAAI,CAACgB,QAAQ,CAAC;QAACf,OAAO,EAAC;MAAO,CAAC,CAAC;IACpC,CAAC;IAAA,KAMD2B,eAAe,GAAC,MAAI;MAChB,IAAI,CAACZ,QAAQ,CAAC;QAACf,OAAO,EAAC;MAAW,CAAC,CAAC;IACxC,CAAC;EAAA;EAxCD;EACA;EACA4B,kBAAkB,GAAE;IAChB,MAAMC,MAAM,GAAC;MAAC,KAAK,EAAC,CAAC;MAAC,IAAI,EAAC,CAAC;MAAC,0BAA0B,EAAC,CAAC;MAAC,SAAS,EAAC,CAAC;MAAC,eAAe,EAAC;IAAC,CAAC;IACxFJ,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;IACjBD,OAAO,CAACC,GAAG,CAAC,CAAC,CAACG,MAAM,CAAC,IAAI,CAAC9B,KAAK,CAACG,YAAY,CAAC,CAAC;IAC9C,IAAG,IAAI,CAACH,KAAK,CAACO,MAAM,KAAG,IAAI,IAAEuB,MAAM,CAAC,IAAI,CAAC9B,KAAK,CAACG,YAAY,CAAC,EAAC;MACzD,IAAI,CAACa,QAAQ,CAAC;QAACT,MAAM,EAAC;MAAE,CAAC,CAAC;IAC9B;IACA,IAAG,IAAI,CAACP,KAAK,CAACQ,MAAM,KAAG,IAAI,IAAEsB,MAAM,CAAC,IAAI,CAAC9B,KAAK,CAACK,UAAU,CAAC,EAAC;MACvD,IAAI,CAACW,QAAQ,CAAC;QAACR,MAAM,EAAC;MAAE,CAAC,CAAC;IAC9B;IACA,IAAG,CAACsB,MAAM,CAAC,IAAI,CAAC9B,KAAK,CAACG,YAAY,CAAC,IAAE,IAAI,CAACH,KAAK,CAACO,MAAM,KAAG,IAAI,EAAC;MAC1D,IAAI,CAACS,QAAQ,CAAC;QAACT,MAAM,EAAC;MAAI,CAAC,CAAC;IAChC;IACA,IAAG,CAACuB,MAAM,CAAC,IAAI,CAAC9B,KAAK,CAACK,UAAU,CAAC,IAAE,IAAI,CAACL,KAAK,CAACQ,MAAM,KAAG,IAAI,EAAC;MACxD,IAAI,CAACQ,QAAQ,CAAC;QAACR,MAAM,EAAC;MAAI,CAAC,CAAC;IAChC;IACA;IACA;IACA,IAAG,IAAI,CAACc,KAAK,CAACS,IAAI,IAAE,IAAI,CAAC/B,KAAK,CAACC,OAAO,KAAG,WAAW,EAAC;MACjD,IAAI,CAACe,QAAQ,CAAC;QAACf,OAAO,EAAC,cAAc;QAACQ,OAAO,EAAC;MAAK,CAAC,CAAC;IACzD;IACA,IAAG,IAAI,CAACa,KAAK,CAACU,OAAO,IAAE,IAAI,CAAChC,KAAK,CAACC,OAAO,KAAG,OAAO,EAAC;MAChDyB,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAC1B,IAAI,CAACX,QAAQ,CAAC;QAACf,OAAO,EAAC;MAAS,CAAC,CAAC;IACtC;EACJ;EACA;;EAcAgC,MAAM,GAAE;IACJ,IAAG,IAAI,CAACjC,KAAK,CAACC,OAAO,KAAG,WAAW,EAAC;MAChC,oBACI,QAAC,SAAS;QAAC,SAAS,EAAE,IAAI,CAACD,KAAM;QAAC,SAAS,EAAE,IAAI,CAACU,SAAU;QAAC,cAAc,EAAE,IAAI,CAACO,cAAe;QAAC,GAAG,EAAE,IAAI,CAACK,KAAK,CAACY,GAAI;QAAC,OAAO,EAAE,IAAI,CAAClC,KAAK,CAACS;MAAQ;QAAA;QAAA;QAAA;MAAA,QAAE;IAE7J;IACA,IAAG,IAAI,CAACT,KAAK,CAACC,OAAO,KAAG,cAAc,EAAC;MACnC,oBACI,QAAC,YAAY;QAAC,QAAQ,EAAE,IAAI,CAACqB,KAAK,CAACa,QAAS;QAAC,IAAI,EAAE,IAAI,CAACb,KAAK,CAACS,IAAK;QAAC,eAAe,EAAE,IAAI,CAACN,eAAgB;QAAC,UAAU,EAAE,IAAI,CAACH,KAAK,CAACc,UAAW;QAAC,eAAe,EAAE,IAAI,CAACR;MAAgB;QAAA;QAAA;QAAA;MAAA,QAAE;IAE9L;IACA,IAAG,IAAI,CAAC5B,KAAK,CAACC,OAAO,KAAG,OAAO,EAAC;MAC5B,oBACI,QAAC,WAAW;QAAC,UAAU,EAAE,IAAI,CAACqB,KAAK,CAACe,UAAW;QAAA,KAAK,EAAEjB,QAAQ,CAAC,IAAI,CAACpB,KAAK,CAACM,KAAK;MAAE;QAAA;QAAA;QAAA;MAAA,QAAE;IAE3F;IACA,IAAG,IAAI,CAACN,KAAK,CAACC,OAAO,KAAG,SAAS,EAAC;MAC9ByB,OAAO,CAACC,GAAG,CAAC,SAAS,EAAE,IAAI,CAACL,KAAK,CAACU,OAAO,CAAC;MAC1C,oBACI,QAAC,OAAO;QAAE,MAAM,EAAE,IAAI,CAACV,KAAK,CAACgB,MAAO;QAAC,IAAI,EAAE,IAAI,CAAChB,KAAK,CAACiB,IAAK;QAAC,OAAO,EAAE,IAAI,CAACjB,KAAK,CAACkB,OAAQ;QAAC,OAAO,EAAE,IAAI,CAAClB,KAAK,CAACU;MAAQ;QAAA;QAAA;QAAA;MAAA,QAAE;IAE/H;EAGJ;AACJ;AAEA,eAAelC,cAAc"},"metadata":{},"sourceType":"module"}